<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.8.0">
  <bpmn:collaboration id="Collaboration_0wzs1nq">
    <bpmn:participant id="emtour" name="Em Tour" processRef="em1" />
    <bpmn:participant id="FunSpark_process" name="FunSpark" processRef="FunSpark" />
    <bpmn:participant id="Customer_process" name="Customer" processRef="Customer" />
    <bpmn:messageFlow id="MessageFlow_0qsvx23" sourceRef="FunSpark_process" targetRef="receive_funspark_voucher" />
    <bpmn:messageFlow id="MessageFlow_1bsb3a0" name="" sourceRef="Customer_process" targetRef="StartEvent_1" />
    <bpmn:messageFlow id="MessageFlow_1fwdk5t" name="" sourceRef="ask_customer_more_info" targetRef="Customer_process" />
    <bpmn:messageFlow id="MessageFlow_0cikwro" sourceRef="Customer_process" targetRef="additional_info" />
    <bpmn:messageFlow id="MessageFlow_0d9tgce" sourceRef="send_proposals" targetRef="Customer_process" />
    <bpmn:messageFlow id="MessageFlow_1ij1okg" sourceRef="Customer_process" targetRef="receive_customer_offers" />
    <bpmn:messageFlow id="MessageFlow_0795z1w" sourceRef="send_voucher" targetRef="Customer_process" />
    <bpmn:messageFlow id="MessageFlow_140htb1" sourceRef="send_add_info" targetRef="FunSpark_process" />
    <bpmn:messageFlow id="MessageFlow_1i5fmce" sourceRef="send_payment_funspark" targetRef="FunSpark_process" />
    <bpmn:messageFlow id="MessageFlow_0n9ysz0" sourceRef="send_bill_customer" targetRef="Customer_process" />
    <bpmn:messageFlow id="MessageFlow_0gnpu4f" sourceRef="FunSpark_process" targetRef="funspark_answer" />
    <bpmn:messageFlow id="MessageFlow_0b73l3z" sourceRef="FunSpark_process" targetRef="receive_funspark_activities" />
    <bpmn:messageFlow id="MessageFlow_1ahh56e" sourceRef="send_recommendations_to_funspark" targetRef="FunSpark_process" />
  </bpmn:collaboration>
  <bpmn:process id="em1" name="Em Tour" isExecutable="true" camunda:versionTag="0.1">
    <bpmn:laneSet>
      <bpmn:lane id="Lane_01v438b" name="System">
        <bpmn:flowNodeRef>EndEvent_18j4kho</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>generate_recommendations-DMN</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>send_voucher</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>receive_funspark_voucher</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ask_customer_more_info</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>additional_info</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>send_add_info</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>send_recommendations_to_funspark</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>receive_funspark_activities</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Additional_info_needed_gateway</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>funspark_answer</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>send_bill_customer</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ProcessBill</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_1qhjt5t</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>send_payment_funspark</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ExclusiveGateway_0pik9oy</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>receive_customer_offers</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>send_proposals</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>event_waiting_offers</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>cancel_proposal</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_1348d7a" name="Clerk">
        <bpmn:flowNodeRef>merge_recommendations</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>confirm_reservation</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ExclusiveGateway_0ldlysa</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>check_has_funspark_activities</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>check_payment</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:sequenceFlow id="SequenceFlow_16rwyru" sourceRef="merge_recommendations" targetRef="send_proposals" />
    <bpmn:userTask id="merge_recommendations" name="Merge recommendations (emTour and FunSpark)" camunda:assignee="john">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="name" label="Name" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="lastName" label="Last Name" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="email" label="e-mail" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="desiredCity" label="Desired City" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="comment" label="Write a comment (optional)" type="string" defaultValue="e.g. e-mail with the recommendations (funspark+emtour) ready to send to the customer" />
          <camunda:formField id="ActivityDescs" label="Funspark Acitivities" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="finishRecomm" label="Please check when you finish merging the recommendations from FunSpark and emTour." type="boolean">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="ActivityIDs" label="Funspark activities ID" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="ActivityPrices" label="Funspark Activities Prices" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0v86wb5</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_16rwyru</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1wgav6e" sourceRef="generate_recommendations-DMN" targetRef="send_recommendations_to_funspark" />
    <bpmn:sequenceFlow id="SequenceFlow_1ww1185" sourceRef="StartEvent_1" targetRef="generate_recommendations-DMN" />
    <bpmn:endEvent id="EndEvent_18j4kho">
      <bpmn:incoming>SequenceFlow_08s3hn6</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_08s3hn6" sourceRef="send_voucher" targetRef="EndEvent_18j4kho" />
    <bpmn:sequenceFlow id="SequenceFlow_02zm952" name="Yes" sourceRef="ExclusiveGateway_0pik9oy" targetRef="send_payment_funspark">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${hasFunSparkActivity}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0znxzio" sourceRef="check_has_funspark_activities" targetRef="ExclusiveGateway_0pik9oy" />
    <bpmn:sequenceFlow id="SequenceFlow_17qnxng" sourceRef="confirm_reservation" targetRef="check_has_funspark_activities" />
    <bpmn:sequenceFlow id="SequenceFlow_0d6e04y" name="Yes" sourceRef="ExclusiveGateway_0ldlysa" targetRef="confirm_reservation">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${payment_status}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_06zjphf" sourceRef="ProcessBill" targetRef="send_bill_customer" />
    <bpmn:sequenceFlow id="SequenceFlow_1mp1nkg" sourceRef="send_bill_customer" targetRef="check_payment" />
    <bpmn:sequenceFlow id="SequenceFlow_1eqbizs" sourceRef="check_payment" targetRef="ExclusiveGateway_0ldlysa" />
    <bpmn:sequenceFlow id="SequenceFlow_0cv75uj" name="No" sourceRef="ExclusiveGateway_0ldlysa" targetRef="EndEvent_1qhjt5t">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!payment_status}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0trivey" sourceRef="receive_customer_offers" targetRef="ProcessBill" />
    <bpmn:sequenceFlow id="SequenceFlow_1ni0mb8" sourceRef="send_payment_funspark" targetRef="receive_funspark_voucher" />
    <bpmn:startEvent id="StartEvent_1" name="Customer Information" camunda:formKey="embedded:app:forms/emtr.html">
      <bpmn:outgoing>SequenceFlow_1ww1185</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_0fpbiqx" />
    </bpmn:startEvent>
    <bpmn:businessRuleTask id="generate_recommendations-DMN" name="Generate &#10;recommendations" camunda:resultVariable="desiredCity" camunda:decisionRef="recommendation" camunda:mapDecisionResult="singleEntry">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="customer_name">customer_name</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1ww1185</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1wgav6e</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0mz0cak">
        <bpmn:targetRef>DataStoreReference_0t2xbdl</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:businessRuleTask>
    <bpmn:sequenceFlow id="SequenceFlow_08fhf2y" sourceRef="receive_funspark_voucher" targetRef="send_voucher" />
    <bpmn:sequenceFlow id="SequenceFlow_1mqhpzg" name="No" sourceRef="ExclusiveGateway_0pik9oy" targetRef="send_voucher">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!hasFunSparkActivity}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sendTask id="send_voucher" name="Send voucher(s) to the customer" camunda:class="de.wwu.wfm.group12.emtour.SendVoucher">
      <bpmn:incoming>SequenceFlow_1mqhpzg</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_08fhf2y</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_08s3hn6</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:intermediateCatchEvent id="receive_funspark_voucher" name="FunSpark&#39;s voucher">
      <bpmn:incoming>SequenceFlow_1ni0mb8</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_08fhf2y</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_1v5affj" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sendTask id="ask_customer_more_info" name="Ask for more information" camunda:class="de.wwu.wfm.group12.emtour.AskInformation">
      <bpmn:incoming>SequenceFlow_0y4rrgk</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1xjjq04</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:intermediateCatchEvent id="additional_info" name="Additional information">
      <bpmn:incoming>SequenceFlow_1xjjq04</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_05kw3an</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_0yd22r1" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sendTask id="send_add_info" name="Send additional Customer information " camunda:class="de.wwu.wfm.group12.emtour.SendCustomerInfo">
      <bpmn:incoming>SequenceFlow_05kw3an</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0zjeq2f</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sequenceFlow id="SequenceFlow_1xjjq04" sourceRef="ask_customer_more_info" targetRef="additional_info" />
    <bpmn:sequenceFlow id="SequenceFlow_05kw3an" sourceRef="additional_info" targetRef="send_add_info" />
    <bpmn:sendTask id="send_recommendations_to_funspark" name="Send recommendations and customer information" camunda:class="de.wwu.wfm.group12.emtour.SendRecommendation">
      <bpmn:incoming>SequenceFlow_1wgav6e</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0yqv1u4</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sequenceFlow id="SequenceFlow_0v86wb5" sourceRef="receive_funspark_activities" targetRef="merge_recommendations" />
    <bpmn:sequenceFlow id="SequenceFlow_0yqv1u4" sourceRef="send_recommendations_to_funspark" targetRef="funspark_answer" />
    <bpmn:sequenceFlow id="SequenceFlow_0zjeq2f" sourceRef="send_add_info" targetRef="receive_funspark_activities" />
    <bpmn:intermediateCatchEvent id="receive_funspark_activities" name="Funspark&#39;s activities">
      <bpmn:incoming>SequenceFlow_0zjeq2f</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0c1mzw1</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0v86wb5</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_18pgpoa" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0y4rrgk" name="Yes" sourceRef="Additional_info_needed_gateway" targetRef="ask_customer_more_info">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${AdditionalInformationNeeded}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0c1mzw1" name="No" sourceRef="Additional_info_needed_gateway" targetRef="receive_funspark_activities">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!AdditionalInformationNeeded}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Additional_info_needed_gateway" name="Does Funspark need more customer&#39;s info?">
      <bpmn:incoming>SequenceFlow_13ah40d</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0y4rrgk</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0c1mzw1</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:intermediateCatchEvent id="funspark_answer" name="FunSpark needs more customer&#39;s info">
      <bpmn:incoming>SequenceFlow_0yqv1u4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_13ah40d</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_1fr17km" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="SequenceFlow_13ah40d" sourceRef="funspark_answer" targetRef="Additional_info_needed_gateway" />
    <bpmn:sequenceFlow id="SequenceFlow_0zkcpd4" sourceRef="send_proposals" targetRef="event_waiting_offers" />
    <bpmn:sequenceFlow id="SequenceFlow_1squcuk" sourceRef="event_waiting_offers" targetRef="receive_customer_offers" />
    <bpmn:dataStoreReference id="DataStoreReference_0t2xbdl" name="Customer Info" />
    <bpmn:sequenceFlow id="SequenceFlow_112pujy" sourceRef="event_waiting_offers" targetRef="cancel_proposal" />
    <bpmn:sequenceFlow id="SequenceFlow_0hthymx" sourceRef="cancel_proposal" targetRef="EndEvent_1qhjt5t" />
    <bpmn:userTask id="confirm_reservation" name="Confirm reservations (hotel, flights)" camunda:assignee="john">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="name" label="Name" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="lastName" label="Last Name" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="email" label="e-mail" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="desiredCity" label="Desired City" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="comment" label="Write a comment" type="string" defaultValue="e.g. booking references" />
          <camunda:formField id="confirmedReservations" label="Please only check when you finish booking hotels and flights" type="boolean">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0d6e04y</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_17qnxng</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0ldlysa" name="Payment received?">
      <bpmn:incoming>SequenceFlow_1eqbizs</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1g75nv3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0d6e04y</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0cv75uj</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sendTask id="send_bill_customer" name="Send Bill to the Customer" camunda:class="de.wwu.wfm.group12.emtour.SendBill">
      <bpmn:incoming>SequenceFlow_06zjphf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1mp1nkg</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:serviceTask id="ProcessBill" name="Process Bill" camunda:class="de.wwu.wfm.group12.emtour.ProcessBill">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property />
        </camunda:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0trivey</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_06zjphf</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndEvent_1qhjt5t" name="End">
      <bpmn:incoming>SequenceFlow_0cv75uj</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0hthymx</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:userTask id="check_has_funspark_activities" name="Check if  there is any FunSpark activity selected" camunda:assignee="john">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="name" label="Name" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="lastName" label="Last Name" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="email" label="e-mail" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="desiredCity" label="Desired City" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="comment" label="Write a comment (optional)" type="string" defaultValue="e.g. no selected activities from FunSpark" />
          <camunda:formField id="hasFunSparkActivity" label="Did the customer select activities from FunSpark?" type="boolean">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="funspark_banktransfer_code" label="Insert bank tranfer code from Funspark payment" type="string" />
          <camunda:formField id="ActivityDescs" label="Funspark activities" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_17qnxng</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0znxzio</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sendTask id="send_payment_funspark" name="Send payment and customers&#39; activities to Funspark" camunda:class="de.wwu.wfm.group12.emtour.SendPayment">
      <bpmn:incoming>SequenceFlow_02zm952</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ni0mb8</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0pik9oy" name="Did the customer select any FunSpark activity?">
      <bpmn:incoming>SequenceFlow_0znxzio</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_02zm952</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1mqhpzg</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:intermediateCatchEvent id="receive_customer_offers" name="Selected offers">
      <bpmn:incoming>SequenceFlow_1squcuk</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0trivey</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_1tnu3ev" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sendTask id="send_proposals" name="Send proposals" camunda:class="de.wwu.wfm.group12.emtour.SendProposals">
      <bpmn:incoming>SequenceFlow_16rwyru</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0zkcpd4</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:eventBasedGateway id="event_waiting_offers">
      <bpmn:incoming>SequenceFlow_0zkcpd4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1squcuk</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_112pujy</bpmn:outgoing>
    </bpmn:eventBasedGateway>
    <bpmn:intermediateCatchEvent id="cancel_proposal" name="7 days">
      <bpmn:incoming>SequenceFlow_112pujy</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0hthymx</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT30S</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1g75nv3" sourceRef="check_payment" targetRef="ExclusiveGateway_0ldlysa" />
    <bpmn:userTask id="check_payment" name="Check payment" camunda:assignee="john" camunda:dueDate="P3D">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="name" label="Name" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="lastName" label="Last Name" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="email" label="e-mail" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="desiredCity" label="Desired City" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="total_value" label="Total" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="comment" label="Write a comment" type="string" defaultValue="Payment reference" />
          <camunda:formField id="payment_status" label="Please check if the customer has made the payment" type="boolean" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1mp1nkg</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1g75nv3</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1eqbizs</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:association id="Association_07e1yo4" sourceRef="generate_recommendations-DMN" targetRef="TextAnnotation_0gjpxwi" />
    <bpmn:association id="Association_0axpoop" sourceRef="ProcessBill" targetRef="TextAnnotation_0hxu3wv" />
    <bpmn:textAnnotation id="TextAnnotation_0gjpxwi">    <bpmn:text>Rules engine</bpmn:text>
</bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_0hxu3wv">    <bpmn:text>Billing system</bpmn:text>
</bpmn:textAnnotation>
  </bpmn:process>
  <bpmn:process id="FunSpark" isExecutable="false" />
  <bpmn:process id="Customer" isExecutable="false" />
  <bpmn:message id="Message_1v5affj" name="Message_Voucher" />
  <bpmn:message id="Message_0fpbiqx" name="customer_info" />
  <bpmn:message id="Message_1fr17km" name="Message_AddInf" />
  <bpmn:message id="Message_0yd22r1" name="additional_info" />
  <bpmn:message id="Message_0niukoa" name="funspark_activities_reviewed" />
  <bpmn:message id="Message_1tnu3ev" name="selected_offers" />
  <bpmn:message id="Message_1urbv4d" name="payment_received" />
  <bpmn:message id="Message_18pgpoa" name="SendActivities" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_0wzs1nq">
      <bpmndi:BPMNShape id="Participant_0ozrkfj_di" bpmnElement="emtour">
        <dc:Bounds x="123" y="-192" width="2537" height="611" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0pxydji_di" bpmnElement="FunSpark_process">
        <dc:Bounds x="123" y="489" width="2543" height="69" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SendTask_16ye3ze_di" bpmnElement="send_recommendations_to_funspark">
        <dc:Bounds x="449" y="157" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SendTask_09ifn5h_di" bpmnElement="send_payment_funspark">
        <dc:Bounds x="2310" y="257" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_0qsvx23_di" bpmnElement="MessageFlow_0qsvx23">
        <di:waypoint xsi:type="dc:Point" x="2482" y="489" />
        <di:waypoint xsi:type="dc:Point" x="2482" y="315" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2452" y="396" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_0ny1skc_di" bpmnElement="Customer_process">
        <dc:Bounds x="123" y="-309" width="2539" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_1bsb3a0_di" bpmnElement="MessageFlow_1bsb3a0">
        <di:waypoint xsi:type="dc:Point" x="254" y="-229" />
        <di:waypoint xsi:type="dc:Point" x="254" y="-170" />
        <di:waypoint xsi:type="dc:Point" x="254" y="180" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="224" y="-205.5" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0gjpxwi_di" bpmnElement="TextAnnotation_0gjpxwi">
        <dc:Bounds x="332" y="84" width="100" height="30" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SendTask_1sww6cq_di" bpmnElement="ask_customer_more_info">
        <dc:Bounds x="793" y="157" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_1fwdk5t_di" bpmnElement="MessageFlow_1fwdk5t">
        <di:waypoint xsi:type="dc:Point" x="843" y="157" />
        <di:waypoint xsi:type="dc:Point" x="843" y="-229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="813" y="-42" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_0cikwro_di" bpmnElement="MessageFlow_0cikwro">
        <di:waypoint xsi:type="dc:Point" x="961" y="-229" />
        <di:waypoint xsi:type="dc:Point" x="960" y="179" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="915.5" y="-46" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_1fgyx5j_di" bpmnElement="additional_info">
        <dc:Bounds x="942" y="179" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="931" y="222" width="53" height="24" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_16rwyru_di" bpmnElement="SequenceFlow_16rwyru">
        <di:waypoint xsi:type="dc:Point" x="1277" y="-104" />
        <di:waypoint xsi:type="dc:Point" x="1303" y="-104" />
        <di:waypoint xsi:type="dc:Point" x="1303" y="197" />
        <di:waypoint xsi:type="dc:Point" x="1331" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1273" y="40.5" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_11w6kak_di" bpmnElement="merge_recommendations">
        <dc:Bounds x="1177" y="-144" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SendTask_0rckgrg_di" bpmnElement="send_proposals">
        <dc:Bounds x="1331" y="157" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_0d9tgce_di" bpmnElement="MessageFlow_0d9tgce">
        <di:waypoint xsi:type="dc:Point" x="1381" y="157" />
        <di:waypoint xsi:type="dc:Point" x="1381" y="-229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1351" y="-42" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_1ij1okg_di" bpmnElement="MessageFlow_1ij1okg">
        <di:waypoint xsi:type="dc:Point" x="1569" y="-228" />
        <di:waypoint xsi:type="dc:Point" x="1569" y="-26" />
        <di:waypoint xsi:type="dc:Point" x="1566" y="179" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1539" y="-133" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SendTask_16h49fr_di" bpmnElement="send_voucher">
        <dc:Bounds x="2432" y="157" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_0795z1w_di" bpmnElement="MessageFlow_0795z1w">
        <di:waypoint xsi:type="dc:Point" x="2483" y="157" />
        <di:waypoint xsi:type="dc:Point" x="2483" y="-229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2453" y="-42" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_140htb1_di" bpmnElement="MessageFlow_140htb1">
        <di:waypoint xsi:type="dc:Point" x="1080" y="237" />
        <di:waypoint xsi:type="dc:Point" x="1080" y="489" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1050" y="357" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_048539y_di" bpmnElement="receive_funspark_voucher">
        <dc:Bounds x="2464" y="279" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2498" y="309" width="56" height="24" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_1i5fmce_di" bpmnElement="MessageFlow_1i5fmce">
        <di:waypoint xsi:type="dc:Point" x="2360" y="337" />
        <di:waypoint xsi:type="dc:Point" x="2360" y="489" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2330" y="407" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_18j4kho_di" bpmnElement="EndEvent_18j4kho">
        <dc:Bounds x="2602" y="179" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2575" y="219" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_01v438b_di" bpmnElement="Lane_01v438b">
        <dc:Bounds x="153" y="-33" width="2507" height="452" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1348d7a_di" bpmnElement="Lane_1348d7a">
        <dc:Bounds x="153" y="-192" width="2507" height="159" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_08s3hn6_di" bpmnElement="SequenceFlow_08s3hn6">
        <di:waypoint xsi:type="dc:Point" x="2532" y="197" />
        <di:waypoint xsi:type="dc:Point" x="2602" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2522" y="176" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SendTask_18dozuq_di" bpmnElement="send_add_info">
        <dc:Bounds x="1030" y="157" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0hxu3wv_di" bpmnElement="TextAnnotation_0hxu3wv">
        <dc:Bounds x="1649" y="92" width="100" height="30" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0axpoop_di" bpmnElement="Association_0axpoop">
        <di:waypoint xsi:type="dc:Point" x="1683" y="157" />
        <di:waypoint xsi:type="dc:Point" x="1694" y="122" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_02zm952_di" bpmnElement="SequenceFlow_02zm952">
        <di:waypoint xsi:type="dc:Point" x="2246" y="222" />
        <di:waypoint xsi:type="dc:Point" x="2246" y="297" />
        <di:waypoint xsi:type="dc:Point" x="2310" y="297" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2253" y="221" width="18" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_0n9ysz0_di" bpmnElement="MessageFlow_0n9ysz0">
        <di:waypoint xsi:type="dc:Point" x="1818" y="157" />
        <di:waypoint xsi:type="dc:Point" x="1818" y="-229" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1788" y="-42" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_12eew5f_di" bpmnElement="ExclusiveGateway_0pik9oy" isMarkerVisible="true">
        <dc:Bounds x="2221" y="172" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2145" y="173" width="83" height="48" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0yqcdrh_di" bpmnElement="ProcessBill">
        <dc:Bounds x="1622" y="157" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0ri0bag_di" bpmnElement="confirm_reservation">
        <dc:Bounds x="2060" y="-144" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_17qnxng_di" bpmnElement="SequenceFlow_17qnxng">
        <di:waypoint xsi:type="dc:Point" x="2160" y="-104" />
        <di:waypoint xsi:type="dc:Point" x="2196" y="-104" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2133" y="-125" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1qzi4ej_di" bpmnElement="check_has_funspark_activities">
        <dc:Bounds x="2196" y="-144" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0znxzio_di" bpmnElement="SequenceFlow_0znxzio">
        <di:waypoint xsi:type="dc:Point" x="2246" y="-64" />
        <di:waypoint xsi:type="dc:Point" x="2246" y="54" />
        <di:waypoint xsi:type="dc:Point" x="2246" y="54" />
        <di:waypoint xsi:type="dc:Point" x="2246" y="172" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2216" y="48" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_06zjphf_di" bpmnElement="SequenceFlow_06zjphf">
        <di:waypoint xsi:type="dc:Point" x="1722" y="197" />
        <di:waypoint xsi:type="dc:Point" x="1768" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1700" y="176" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SendTask_0cis3g5_di" bpmnElement="send_bill_customer">
        <dc:Bounds x="1768" y="157" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1mp1nkg_di" bpmnElement="SequenceFlow_1mp1nkg">
        <di:waypoint xsi:type="dc:Point" x="1868" y="197" />
        <di:waypoint xsi:type="dc:Point" x="1892" y="197" />
        <di:waypoint xsi:type="dc:Point" x="1892" y="-64" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1835" y="176" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_08l8joy_di" bpmnElement="receive_customer_offers">
        <dc:Bounds x="1547" y="179" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1528" y="226" width="73" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_0459mea_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="233" y="179" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="224" y="222" width="54" height="24" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BusinessRuleTask_13j34jk_di" bpmnElement="generate_recommendations-DMN">
        <dc:Bounds x="314" y="157" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_07e1yo4_di" bpmnElement="Association_07e1yo4">
        <di:waypoint xsi:type="dc:Point" x="371" y="157" />
        <di:waypoint xsi:type="dc:Point" x="379" y="114" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1wgav6e_di" bpmnElement="SequenceFlow_1wgav6e">
        <di:waypoint xsi:type="dc:Point" x="414" y="197" />
        <di:waypoint xsi:type="dc:Point" x="449" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="386.5" y="176" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ww1185_di" bpmnElement="SequenceFlow_1ww1185">
        <di:waypoint xsi:type="dc:Point" x="269" y="197" />
        <di:waypoint xsi:type="dc:Point" x="314" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="246.5" y="176" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0ldlysa_di" bpmnElement="ExclusiveGateway_0ldlysa" isMarkerVisible="true">
        <dc:Bounds x="1964" y="-129" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1965" y="-167" width="48" height="24" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1eqbizs_di" bpmnElement="SequenceFlow_1eqbizs">
        <di:waypoint xsi:type="dc:Point" x="1942" y="-104" />
        <di:waypoint xsi:type="dc:Point" x="1964" y="-104" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1908" y="-125" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0d6e04y_di" bpmnElement="SequenceFlow_0d6e04y">
        <di:waypoint xsi:type="dc:Point" x="2014" y="-104" />
        <di:waypoint xsi:type="dc:Point" x="2060" y="-104" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2028" y="-125" width="18" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0cv75uj_di" bpmnElement="SequenceFlow_0cv75uj">
        <di:waypoint xsi:type="dc:Point" x="1989" y="-79" />
        <di:waypoint xsi:type="dc:Point" x="1989" y="127" />
        <di:waypoint xsi:type="dc:Point" x="1989" y="127" />
        <di:waypoint xsi:type="dc:Point" x="1989" y="333" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1997" y="93.85271317829455" width="14" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_0wuhvca_di" bpmnElement="funspark_answer">
        <dc:Bounds x="600" y="179" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="577" y="134" width="82" height="36" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_0gnpu4f_di" bpmnElement="MessageFlow_0gnpu4f">
        <di:waypoint xsi:type="dc:Point" x="613" y="489" />
        <di:waypoint xsi:type="dc:Point" x="613" y="214" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="583" y="345.5" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0trivey_di" bpmnElement="SequenceFlow_0trivey">
        <di:waypoint xsi:type="dc:Point" x="1583" y="197" />
        <di:waypoint xsi:type="dc:Point" x="1622" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1557.5" y="176" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ni0mb8_di" bpmnElement="SequenceFlow_1ni0mb8">
        <di:waypoint xsi:type="dc:Point" x="2410" y="297" />
        <di:waypoint xsi:type="dc:Point" x="2464" y="297" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2392" y="276" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1xjjq04_di" bpmnElement="SequenceFlow_1xjjq04">
        <di:waypoint xsi:type="dc:Point" x="893" y="197" />
        <di:waypoint xsi:type="dc:Point" x="942" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="873" y="176" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_05kw3an_di" bpmnElement="SequenceFlow_05kw3an">
        <di:waypoint xsi:type="dc:Point" x="978" y="197" />
        <di:waypoint xsi:type="dc:Point" x="1030" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="959" y="176" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_08fhf2y_di" bpmnElement="SequenceFlow_08fhf2y">
        <di:waypoint xsi:type="dc:Point" x="2482" y="279" />
        <di:waypoint xsi:type="dc:Point" x="2482" y="258" />
        <di:waypoint xsi:type="dc:Point" x="2482" y="258" />
        <di:waypoint xsi:type="dc:Point" x="2482" y="237" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2452" y="252" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1mqhpzg_di" bpmnElement="SequenceFlow_1mqhpzg">
        <di:waypoint xsi:type="dc:Point" x="2271" y="197" />
        <di:waypoint xsi:type="dc:Point" x="2432" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2274.310344827586" y="175" width="14" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1df33w4_di" bpmnElement="EndEvent_1qhjt5t">
        <dc:Bounds x="1971" y="333" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1979" y="374" width="19" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_1u5r1f6_di" bpmnElement="receive_funspark_activities">
        <dc:Bounds x="1209" y="62.452" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1158" y="45" width="55" height="24" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0v86wb5_di" bpmnElement="SequenceFlow_0v86wb5">
        <di:waypoint xsi:type="dc:Point" x="1227" y="62" />
        <di:waypoint xsi:type="dc:Point" x="1227" y="-64" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1242" y="-7" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_0b73l3z_di" bpmnElement="MessageFlow_0b73l3z">
        <di:waypoint xsi:type="dc:Point" x="1227" y="489" />
        <di:waypoint xsi:type="dc:Point" x="1227" y="429" />
        <di:waypoint xsi:type="dc:Point" x="1227" y="98" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1242" y="453" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_15cixbq_di" bpmnElement="Additional_info_needed_gateway" isMarkerVisible="true">
        <dc:Bounds x="679" y="171.952" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="664" y="233" width="80" height="36" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0yqv1u4_di" bpmnElement="SequenceFlow_0yqv1u4">
        <di:waypoint xsi:type="dc:Point" x="549" y="197" />
        <di:waypoint xsi:type="dc:Point" x="600" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="574.5" y="176" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0zjeq2f_di" bpmnElement="SequenceFlow_0zjeq2f">
        <di:waypoint xsi:type="dc:Point" x="1124" y="161" />
        <di:waypoint xsi:type="dc:Point" x="1213" y="91" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1168.5" y="105" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0y4rrgk_di" bpmnElement="SequenceFlow_0y4rrgk">
        <di:waypoint xsi:type="dc:Point" x="729" y="197" />
        <di:waypoint xsi:type="dc:Point" x="793" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="752" y="176" width="18" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0c1mzw1_di" bpmnElement="SequenceFlow_0c1mzw1">
        <di:waypoint xsi:type="dc:Point" x="704" y="172" />
        <di:waypoint xsi:type="dc:Point" x="704" y="80" />
        <di:waypoint xsi:type="dc:Point" x="1209" y="80" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="712" y="120" width="14" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_13ah40d_di" bpmnElement="SequenceFlow_13ah40d">
        <di:waypoint xsi:type="dc:Point" x="636" y="197" />
        <di:waypoint xsi:type="dc:Point" x="679" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="657.5" y="176" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_1ahh56e_di" bpmnElement="MessageFlow_1ahh56e">
        <di:waypoint xsi:type="dc:Point" x="499" y="237" />
        <di:waypoint xsi:type="dc:Point" x="499" y="488" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="514" y="356.5" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0zkcpd4_di" bpmnElement="SequenceFlow_0zkcpd4">
        <di:waypoint xsi:type="dc:Point" x="1431" y="197" />
        <di:waypoint xsi:type="dc:Point" x="1466" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1448.5" y="176" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EventBasedGateway_0oj2te9_di" bpmnElement="event_waiting_offers">
        <dc:Bounds x="1466" y="172" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1491" y="226" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1squcuk_di" bpmnElement="SequenceFlow_1squcuk">
        <di:waypoint xsi:type="dc:Point" x="1516" y="197" />
        <di:waypoint xsi:type="dc:Point" x="1547" y="197" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1531.5" y="176" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="DataStoreReference_0t2xbdl_di" bpmnElement="DataStoreReference_0t2xbdl">
        <dc:Bounds x="357" y="271.6786427145709" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="348" y="326" width="69" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0mz0cak_di" bpmnElement="DataOutputAssociation_0mz0cak">
        <di:waypoint xsi:type="dc:Point" x="372" y="237" />
        <di:waypoint xsi:type="dc:Point" x="380" y="272" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_0kqg4ev_di" bpmnElement="cancel_proposal">
        <dc:Bounds x="1473" y="333" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1475" y="373" width="33" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_112pujy_di" bpmnElement="SequenceFlow_112pujy">
        <di:waypoint xsi:type="dc:Point" x="1491" y="222" />
        <di:waypoint xsi:type="dc:Point" x="1491" y="278" />
        <di:waypoint xsi:type="dc:Point" x="1491" y="278" />
        <di:waypoint xsi:type="dc:Point" x="1491" y="333" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1506" y="272" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0hthymx_di" bpmnElement="SequenceFlow_0hthymx">
        <di:waypoint xsi:type="dc:Point" x="1509" y="351" />
        <di:waypoint xsi:type="dc:Point" x="1971" y="351" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1740" y="330" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1g75nv3_di" bpmnElement="SequenceFlow_1g75nv3">
        <di:waypoint xsi:type="dc:Point" x="1942" y="-104" />
        <di:waypoint xsi:type="dc:Point" x="1964" y="-104" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1953" y="-125" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1wk4m6x_di" bpmnElement="check_payment">
        <dc:Bounds x="1842" y="-144" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
